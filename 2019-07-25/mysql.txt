问题 太多长链接导致mysql占用内存暴涨,mysql服务器崩溃重启。
原因 链接所占用的内存是链接器管理的，链接器会在链接断开后释放资源
解决方案
1.定期断开长链接
2.程序检测链接占用内存大的话，断开重连
3.mysql5.8只有可以之用reset connection

问题 查询缓存的工作原理
1.key-value形式存储
2.当一张表有修改操作后查询缓存立即失效
3.可以按需使用,由于查询缓存频繁失效,mysql8.0已经移除该功能

问题 一条查询语句的执行
链接器 -> 语法分析 -> 词法分析 -> 优化器 -> 执行器

问题 redolog(Innodb特有的)和binlog(server的日志)用处用法
1.redolog 可配置例如4 * 1GB redolog,
2.redolog使用checkpoint + writepoint循环写 binlog追加写
3.redolog物理日志 binlog逻辑日志

问题 两阶段提交
目的两个日志保持一致

自己的一些见解,redolog实际上是为了实现随机写 -> 顺序写,
可以使用fsync保证每次事务提交斗持久化到硬盘已保证数据不丢失

MyIsam不支持事务，应该是被InnoDB替代的重要原因

ACID 原子 一致 隔离 持久

读未提交 事务未提交变更就可以被别人看到
读提交 事务提交之后所做的变更才会被别人看到
可重复度 在一个事务中看到的视图和启动时是一致的,未提交对其他也是不可见的
串行化 读加读锁 写加写锁

读提交视图是在SQL执行的时候创建的
可重复读视图是在事务开始是创建的
